---
layout: default
title: Government Services - Google Docs
overview: true
---

<h1>Government Services Schema - Google Docs</h1>
<p>This is a basic tool that pulls from a Google Spreadsheet that is setup as a government services template, allowing the editing of groups of services to renders as JSON output.</p>
<p>By default this tool uses <a href="https://docs.google.com/spreadsheets/d/1Ue4KlTgRE4X8z7jUt7ed_Gcu4NnovGSja8cRvkN5WcI/edit?usp=sharing" target="_blank">this spreadsheet</a>, you can make a copy of the template and populate with different data, publish publicy, and copy the URL in the textbox below to generate new JSON output.</p>

<script type="text/javascript">

    function runGenerator()
        {
        url = document.getElementById("googleurl").value;
        generateJSON(url);
        }

</script>

<form action="#" method="get">
    <div class="form-group">
        <label for="id">Google Doc URL:</label>
        <input style="width: 75%;" type="text" class="form-control" name="googleurl" id="googleurl" value="https://docs.google.com/spreadsheets/d/1Ue4KlTgRE4X8z7jUt7ed_Gcu4NnovGSja8cRvkN5WcI/edit?usp=sharing">
    </div>
    <hr />
    <center><button class="btn btn-default" onclick="runGenerator(); return false;" name="changekey" value="Run" />Generate JSON</button></center>
</form>

<script type="text/javascript">

    function generateJSON(url)
        {

          var public_spreadsheet_url = url;
console.log(public_spreadsheet_url);
          $(document).ready( function() {
            Tabletop.init( { key: public_spreadsheet_url,
                             callback: showInfo,
                             wanted: [ "Services", "Service Locations" ],
                             debug: true } )
          })

          function showInfo(data, tabletop) {
            $("#table_info").text("We found the tables " + tabletop.model_names.join(", "));

            $.each( tabletop.sheets(), function(i, sheet) {
              $("#table_info").append("<p>" + sheet.name + " has " + sheet.column_names.join(", ") + "</p>");
            });

            $.each( tabletop.sheets("Services").all(), function(i, service) {


                $servicename = service.servicename;
                $uniqueid = service.uniqueid;
                $description = service.description;
                $url = service.url;
                $image = service.image;
                $alternatenames = service.alternatenames;
                $servicearea = service.servicearea;
                $providername = service.providername;
                $providerlogo = service.providerlogo;
                $providerurl = service.providerurl;
                $operator = service.operator;
                $servicetype = service.servicetype;
                $servicetypetaxonomyused = service.servicetypetaxonomyused;
                $produces = service.produces;
                $audience = service.audience;
                $availablelanguages = service.availablelanguages;
                $serviceurl = service.serviceurl;
                $servicephone = service.servicephone;
                console.log($servicename);

                beautify(jsonStr);
            })

          }

         }
    </script>

    <textarea cols="40" rows="5" id="source" style="border: 1px solid #000; width: 100%; height: 750px;"></textarea>
